_version: 1

# cli.rs - CLI 帮助文本
cli:
  about: "管理工作区 (git worktree)"
  new:
    about: "创建 worktree"
    name: "工作区名称"
    directory: "worktree 路径 (默认: ../<name>)"
    branch: "分支名 (默认: 与名称相同)"
    from: "新分支的起点 (默认: HEAD)"
  rm:
    about: "删除指定的 worktree"
    directory: "要删除的 worktree 路径"
    force: "即使有未提交的更改也强制删除"
  status:
    about: "显示集成状态仪表板"
  store:
    about: "管理共享文件"
    track:
      about: "将文件注册到 store"
      strategy: "策略 (symlink 或 copy)"
      file: "要跟踪的文件路径"
    status:
      about: "显示共享文件的详细状态"
    push:
      about: "将 copy 跟踪文件的更改推送到 store"
      file: "文件路径（省略则处理所有 copy 文件）"
    pull:
      about: "从 store 分发跟踪文件到当前 worktree"
      file: "文件路径（省略则处理所有跟踪文件）"
      force: "覆盖现有文件"
    untrack:
      about: "从 store 注销文件"
      file: "要注销的文件路径"
  repos:
    about: "管理已注册的仓库"
    clone:
      about: "创建裸仓库（省略 URL 则创建空裸仓库）"
      url: "远程 URL（省略则创建空裸仓库）"
    add:
      about: "注册现有仓库"
      path: "仓库路径（默认: 当前目录）"
      name: "自定义名称（默认: 目录名）"
    list:
      about: "列出已注册的仓库"
    rm:
      about: "注销仓库（不删除仓库本身）"
      name: "要注销的仓库名称"
  i:
    about: "交互式构建并执行命令"

# main.rs - 顶层错误
error:
  top: "错误: %{detail}"

# git.rs - git 命令错误
git:
  exec_failed: "执行 git %{args} 失败"
  command_failed: "git %{args} 失败: %{stderr}"
  run_inside_worktree: "请在 worktree 内执行"

# store.rs - store 操作消息
store:
  path_canonicalize_failed: "路径规范化失败: %{path}"
  run_inside_repo: "请在 git 仓库内执行"
  store_not_initialized: "store 未初始化。请先使用 'ws store track' 注册文件"
  manifest_read_failed: "读取 manifest 失败: %{path}"
  manifest_write_failed: "写入 manifest 失败: %{path}"
  skip_exists: "  跳过: %{file} (已存在)"
  invalid_strategy: "strategy 必须是 'symlink' 或 'copy'"
  file_not_found: "找不到文件: %{file}"
  copy_to_store_failed: "复制到 store 失败"
  converted_to_symlink: "已将 %{file} 转换为符号链接"
  tracking_started: "开始跟踪: %{strategy}:%{file}"
  no_tracked_files: "没有跟踪文件"
  skip_not_in_worktree: "跳过: %{file} (不在 worktree 中)"
  not_copy_tracked: "%{file} 未使用 copy 策略跟踪"
  no_copy_files_to_push: "没有需要 push 的 copy 文件"
  skip_not_in_store: "跳过: %{file} (不在 store 中)"
  skip_exists_use_force: "跳过: %{file} (已存在，使用 -f 覆盖)"
  not_tracked: "%{file} 未被跟踪"
  no_files_to_pull: "没有需要 pull 的文件"
  untrack_success: "已取消跟踪: %{file}"
  symlink_restored: "已将符号链接恢复为文件: %{file} (%{path})"
  restore_copy_failed: "%{file} 恢复失败 (%{path})"

# commands/repos.rs - 仓库操作消息
repos:
  path_not_found: "路径未找到: %{path}"
  not_a_git_repo: "不是 git 仓库: %{path}"
  already_registered: "仓库 '%{name}' 已注册"
  added: "已注册: %{name} (%{path})"
  no_repos: "没有已注册的仓库"
  removed: "已注销: %{name}"
  not_found: "未找到仓库 '%{name}'"

# config.rs - 配置文件消息
config:
  read_failed: "读取配置文件失败: %{path}"
  parse_failed: "解析配置文件失败: %{path}"
  mkdir_failed: "创建配置目录失败: %{path}"
  serialize_failed: "配置序列化失败"
  write_failed: "写入配置文件失败: %{path}"
  save_warning: "警告: 保存配置文件失败: %{detail}"

# commands/worktree.rs - worktree 操作消息
worktree:
  bare_already_exists: ".bare 已存在"
  clone_bare_failed: "执行 git clone --bare 失败"
  init_bare_failed: "执行 git init --bare 失败"
  bare_creation_failed: "创建裸仓库失败"
  bare_created: "已创建 .bare"
  creating_default_worktree: "正在为默认分支 '%{branch}' 创建 worktree..."
  default_branch_warning: "警告: 无法检测默认分支。请使用 'ws new <分支名>' 手动创建"
  start_point_not_found: "找不到指定的起点 '%{point}'"
  worktree_add_failed: "执行 git worktree add 失败"
  worktree_add_git_failed: "git worktree add 失败"
  dir_canonicalize_failed: "目录规范化失败: %{dir}"
  applying_store_files: "正在从 store 应用文件..."
  worktree_remove_failed: "执行 git worktree remove 失败"
  worktree_remove_git_failed: "git worktree remove 失败"

# commands/status.rs - status 显示
status:
  repositories: "Repositories:"
  current_repository: "Current Repository: %{name}"
  current_workspace: "Current Workspace: %{name}"

# interactive.rs - 交互模式
interactive:
  menu:
    new: "创建工作区"
    rm: "删除工作区"
    status: "显示整体状态"
    store: "管理共享文件"
    repos: "管理已注册的仓库"
  select_command: "选择命令:"
  cancelled: "已取消"
  selection_failed: "选择失败"
  unknown_command: "未知命令: %{cmd}"
  exec_failed: "执行 %{cmd} 失败"
  clone:
    url_prompt: "远程 URL:"
    url_help: "留空则创建空裸仓库"
  new:
    name_prompt: "名称:"
    empty_name: "请输入工作区名称"
    dir_prompt: "位置:"
    branch_prompt: "分支:"
    from_prompt: "起点:"
    from_help: "留空则使用 HEAD"
  rm:
    no_worktrees: "没有可删除的 worktree"
    select_worktree: "选择要删除的 worktree:"
    path_failed: "获取 worktree 路径失败"
  store_menu:
    track: "注册文件"
    status: "显示共享文件状态"
    push: "workspace → store"
    pull: "store → workspace"
    untrack: "注销文件"
  store_select: "选择 store 命令:"
  store_push:
    file_prompt: "文件路径:"
    file_help: "留空则处理所有 copy 文件"
  store_pull:
    file_prompt: "文件路径:"
    file_help: "留空则处理所有跟踪文件"
  store_track:
    select_strategy: "选择策略:"
    file_prompt: "要跟踪的文件路径:"
    empty_file: "请输入文件路径"
  store_untrack:
    select_file: "选择要注销的文件:"
    file_prompt: "要注销的文件路径:"
    empty_file: "请输入文件路径"
  repos_menu:
    clone: "创建裸仓库"
    add: "注册仓库"
    list: "列出已注册的仓库"
    rm: "注销仓库"
  repos_select: "选择 repos 命令:"
  repos_add:
    path_prompt: "仓库路径:"
    path_help: "留空则使用当前目录"
    name_prompt: "自定义名称:"
    name_help: "留空则使用目录名"
  repos_rm:
    select_repo: "选择要注销的仓库:"
    name_prompt: "仓库名称:"
    empty_name: "请输入仓库名称"
  input_failed: "输入失败"
